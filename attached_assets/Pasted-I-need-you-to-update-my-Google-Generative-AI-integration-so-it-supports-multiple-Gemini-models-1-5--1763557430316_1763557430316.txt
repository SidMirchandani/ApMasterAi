I need you to update my Google Generative AI integration so it supports multiple Gemini models: 1.5 Flash (default), 2.0 Flash, and 2.5 Flash.

Below are the complete requirements.

========================================================
           UPDATE MODEL HANDLING (API + MODELS)
========================================================

1. Use the official Google Generative AI Node client.

2. Use **API version v1** everywhere.
   - v1beta must NOT be used because Gemini 1.5, 2.0, and 2.5 Flash are not supported there.

3. Add full support for these models (Flash only):
   - "gemini-1.5-flash-latest"   → default, lowest cost
   - "gemini-2.0-flash"          → mid-tier older model
   - "gemini-2.5-flash"          → mid/high-tier newest Flash model

4. Add a dropdown or query/body parameter named `model` so the API route can dynamically pick which model to use.

5. Implement a helper function:

      export function getModelName(userModelSelection: string): string

   Where:
   - Valid values are: "1.5", "2.0", "2.5"
   - Return the correct full model name string
   - If invalid or missing, fall back to:
         "gemini-1.5-flash-latest"

6. Replace ALL hardcoded model references in generateExplanations.ts 
   so that the selected model from getModelName() is used.

7. Ensure all calls use the correct v1 syntax:

      const model = genAI.getGenerativeModel({ model: selectedModel });
      const result = await model.generateContent([prompt]);

8. Do NOT modify or break any unrelated UI, DB logic, routing logic, or explanation-parsing logic.


========================================================
            EXPLANATION OUTPUT FORMAT (REQUIRED)
========================================================

Every explanation generated by ANY model must follow this exact structure:

1. **Briefly explain the underlying concept (2–4 sentences).**
2. **Explain clearly why the correct answer choice is correct.**
3. **Explain why each incorrect answer choice is wrong.**

This structure must be enforced inside whatever prompt template is used.

Example (only for structure reference):

"The Law of Demand explains the inverse relationship between a product’s price and the quantity consumers are willing and able to purchase, assuming all other factors remain constant. B is correct because it directly states this inverse relationship: as price rises, consumers demand a smaller quantity of the product. A is wrong as it describes a direct relationship (price falls, quantity falls), which contradicts the Law of Demand. C and D are incorrect because they confuse changes in overall 'demand' with changes in 'quantity demanded.' E is wrong because the Law of Demand describes an inverse (negative) relationship, not a positive one."

Make sure this structure applies to every question the model answers.


========================================================
             SUMMARY OF WHAT TO UPDATE
========================================================

- Add support for:
    • gemini-1.5-flash-latest (default)
    • gemini-2.0-flash
    • gemini-2.5-flash
- Switch all calls to API v1.
- Add a dropdown or parameter for model selection.
- Add getModelName() helper to validate model and return full model name.
- Replace all references to old or hardcoded models.
- Enforce structured explanation format: concept → correct → wrong choices.
- Do NOT break any existing functionality.
