"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/_app",{

/***/ "./client/src/lib/auth-persistence.ts":
/*!********************************************!*\
  !*** ./client/src/lib/auth-persistence.ts ***!
  \********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initializeAuthPersistence: function() { return /* binding */ initializeAuthPersistence; },\n/* harmony export */   isAuthStateStable: function() { return /* binding */ isAuthStateStable; },\n/* harmony export */   monitorAuthStability: function() { return /* binding */ monitorAuthStability; },\n/* harmony export */   setRememberMe: function() { return /* binding */ setRememberMe; },\n/* harmony export */   shouldMaintainSession: function() { return /* binding */ shouldMaintainSession; }\n/* harmony export */ });\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./firebase */ \"./client/src/lib/firebase.ts\");\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/auth */ \"./node_modules/firebase/auth/dist/esm/index.esm.js\");\n\n\n// Ensure Firebase auth persistence is set correctly\nasync function initializeAuthPersistence() {\n    if (!_firebase__WEBPACK_IMPORTED_MODULE_0__.auth) {\n        console.warn(\"Auth not initialized, cannot set persistence\");\n        return;\n    }\n    try {\n        // Use local persistence for better user experience\n        // This means users stay logged in even after closing the browser\n        await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_1__.setPersistence)(_firebase__WEBPACK_IMPORTED_MODULE_0__.auth, firebase_auth__WEBPACK_IMPORTED_MODULE_1__.browserLocalPersistence);\n        console.log(\"Firebase auth persistence set to local\");\n    } catch (error) {\n        console.error(\"Failed to set auth persistence:\", error);\n        // Fallback to session persistence\n        try {\n            await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_1__.setPersistence)(_firebase__WEBPACK_IMPORTED_MODULE_0__.auth, firebase_auth__WEBPACK_IMPORTED_MODULE_1__.browserSessionPersistence);\n            console.log(\"Firebase auth persistence set to session (fallback)\");\n        } catch (fallbackError) {\n            console.error(\"Failed to set fallback auth persistence:\", fallbackError);\n        }\n    }\n}\n// Check if user should remain logged in\nfunction shouldMaintainSession() {\n    try {\n        // Check if user has chosen to stay logged in (you can customize this logic)\n        const rememberMe = localStorage.getItem(\"rememberMe\");\n        return rememberMe === \"true\";\n    } catch (e) {\n        return true; // Default to maintaining session\n    }\n}\n// Set remember me preference\nfunction setRememberMe(remember) {\n    try {\n        localStorage.setItem(\"rememberMe\", remember.toString());\n    } catch (error) {\n        console.warn(\"Could not save remember me preference:\", error);\n    }\n}\n// Enhanced auth state monitoring\nlet authStateStable = false;\n// âœ… Use ReturnType<typeof setTimeout> instead of number\nlet authStateTimeout = null;\nfunction monitorAuthStability() {\n    if (!_firebase__WEBPACK_IMPORTED_MODULE_0__.auth) return undefined;\n    // Reset stability flag on auth state changes\n    const unsubscribe = _firebase__WEBPACK_IMPORTED_MODULE_0__.auth.onAuthStateChanged(()=>{\n        authStateStable = false;\n        // Clear existing timeout\n        if (authStateTimeout) {\n            clearTimeout(authStateTimeout);\n        }\n        // Mark as stable after 2 seconds of no changes\n        authStateTimeout = setTimeout(()=>{\n            authStateStable = true;\n            console.log(\"Auth state stabilized\");\n        }, 2000);\n    });\n    // Return cleanup function\n    return ()=>{\n        unsubscribe();\n        if (authStateTimeout) {\n            clearTimeout(authStateTimeout);\n        }\n    };\n}\nfunction isAuthStateStable() {\n    return authStateStable;\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jbGllbnQvc3JjL2xpYi9hdXRoLXBlcnNpc3RlbmNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBa0M7QUFLWDtBQUV2QixvREFBb0Q7QUFDN0MsZUFBZUk7SUFDcEIsSUFBSSxDQUFDSiwyQ0FBSUEsRUFBRTtRQUNUSyxRQUFRQyxJQUFJLENBQUM7UUFDYjtJQUNGO0lBRUEsSUFBSTtRQUNGLG1EQUFtRDtRQUNuRCxpRUFBaUU7UUFDakUsTUFBTUwsNkRBQWNBLENBQUNELDJDQUFJQSxFQUFFRSxrRUFBdUJBO1FBQ2xERyxRQUFRRSxHQUFHLENBQUM7SUFDZCxFQUFFLE9BQU9DLE9BQU87UUFDZEgsUUFBUUcsS0FBSyxDQUFDLG1DQUFtQ0E7UUFFakQsa0NBQWtDO1FBQ2xDLElBQUk7WUFDRixNQUFNUCw2REFBY0EsQ0FBQ0QsMkNBQUlBLEVBQUVHLG9FQUF5QkE7WUFDcERFLFFBQVFFLEdBQUcsQ0FBQztRQUNkLEVBQUUsT0FBT0UsZUFBZTtZQUN0QkosUUFBUUcsS0FBSyxDQUFDLDRDQUE0Q0M7UUFDNUQ7SUFDRjtBQUNGO0FBRUEsd0NBQXdDO0FBQ2pDLFNBQVNDO0lBQ2QsSUFBSTtRQUNGLDRFQUE0RTtRQUM1RSxNQUFNQyxhQUFhQyxhQUFhQyxPQUFPLENBQUM7UUFDeEMsT0FBT0YsZUFBZTtJQUN4QixFQUFFLFVBQU07UUFDTixPQUFPLE1BQU0saUNBQWlDO0lBQ2hEO0FBQ0Y7QUFFQSw2QkFBNkI7QUFDdEIsU0FBU0csY0FBY0MsUUFBaUI7SUFDN0MsSUFBSTtRQUNGSCxhQUFhSSxPQUFPLENBQUMsY0FBY0QsU0FBU0UsUUFBUTtJQUN0RCxFQUFFLE9BQU9ULE9BQU87UUFDZEgsUUFBUUMsSUFBSSxDQUFDLDBDQUEwQ0U7SUFDekQ7QUFDRjtBQUVBLGlDQUFpQztBQUNqQyxJQUFJVSxrQkFBa0I7QUFDdEIsd0RBQXdEO0FBQ3hELElBQUlDLG1CQUF5RDtBQUV0RCxTQUFTQztJQUNkLElBQUksQ0FBQ3BCLDJDQUFJQSxFQUFFLE9BQU9xQjtJQUVsQiw2Q0FBNkM7SUFDN0MsTUFBTUMsY0FBY3RCLDJDQUFJQSxDQUFDdUIsa0JBQWtCLENBQUM7UUFDMUNMLGtCQUFrQjtRQUVsQix5QkFBeUI7UUFDekIsSUFBSUMsa0JBQWtCO1lBQ3BCSyxhQUFhTDtRQUNmO1FBRUEsK0NBQStDO1FBQy9DQSxtQkFBbUJNLFdBQVc7WUFDNUJQLGtCQUFrQjtZQUNsQmIsUUFBUUUsR0FBRyxDQUFDO1FBQ2QsR0FBRztJQUNMO0lBRUEsMEJBQTBCO0lBQzFCLE9BQU87UUFDTGU7UUFDQSxJQUFJSCxrQkFBa0I7WUFDcEJLLGFBQWFMO1FBQ2Y7SUFDRjtBQUNGO0FBRU8sU0FBU087SUFDZCxPQUFPUjtBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NsaWVudC9zcmMvbGliL2F1dGgtcGVyc2lzdGVuY2UudHM/ODg3OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhdXRoIH0gZnJvbSBcIi4vZmlyZWJhc2VcIjtcbmltcG9ydCB7XG4gIHNldFBlcnNpc3RlbmNlLFxuICBicm93c2VyTG9jYWxQZXJzaXN0ZW5jZSxcbiAgYnJvd3NlclNlc3Npb25QZXJzaXN0ZW5jZSxcbn0gZnJvbSBcImZpcmViYXNlL2F1dGhcIjtcblxuLy8gRW5zdXJlIEZpcmViYXNlIGF1dGggcGVyc2lzdGVuY2UgaXMgc2V0IGNvcnJlY3RseVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluaXRpYWxpemVBdXRoUGVyc2lzdGVuY2UoKTogUHJvbWlzZTx2b2lkPiB7XG4gIGlmICghYXV0aCkge1xuICAgIGNvbnNvbGUud2FybihcIkF1dGggbm90IGluaXRpYWxpemVkLCBjYW5ub3Qgc2V0IHBlcnNpc3RlbmNlXCIpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRyeSB7XG4gICAgLy8gVXNlIGxvY2FsIHBlcnNpc3RlbmNlIGZvciBiZXR0ZXIgdXNlciBleHBlcmllbmNlXG4gICAgLy8gVGhpcyBtZWFucyB1c2VycyBzdGF5IGxvZ2dlZCBpbiBldmVuIGFmdGVyIGNsb3NpbmcgdGhlIGJyb3dzZXJcbiAgICBhd2FpdCBzZXRQZXJzaXN0ZW5jZShhdXRoLCBicm93c2VyTG9jYWxQZXJzaXN0ZW5jZSk7XG4gICAgY29uc29sZS5sb2coXCJGaXJlYmFzZSBhdXRoIHBlcnNpc3RlbmNlIHNldCB0byBsb2NhbFwiKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIHNldCBhdXRoIHBlcnNpc3RlbmNlOlwiLCBlcnJvcik7XG5cbiAgICAvLyBGYWxsYmFjayB0byBzZXNzaW9uIHBlcnNpc3RlbmNlXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHNldFBlcnNpc3RlbmNlKGF1dGgsIGJyb3dzZXJTZXNzaW9uUGVyc2lzdGVuY2UpO1xuICAgICAgY29uc29sZS5sb2coXCJGaXJlYmFzZSBhdXRoIHBlcnNpc3RlbmNlIHNldCB0byBzZXNzaW9uIChmYWxsYmFjaylcIik7XG4gICAgfSBjYXRjaCAoZmFsbGJhY2tFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBzZXQgZmFsbGJhY2sgYXV0aCBwZXJzaXN0ZW5jZTpcIiwgZmFsbGJhY2tFcnJvcik7XG4gICAgfVxuICB9XG59XG5cbi8vIENoZWNrIGlmIHVzZXIgc2hvdWxkIHJlbWFpbiBsb2dnZWQgaW5cbmV4cG9ydCBmdW5jdGlvbiBzaG91bGRNYWludGFpblNlc3Npb24oKTogYm9vbGVhbiB7XG4gIHRyeSB7XG4gICAgLy8gQ2hlY2sgaWYgdXNlciBoYXMgY2hvc2VuIHRvIHN0YXkgbG9nZ2VkIGluICh5b3UgY2FuIGN1c3RvbWl6ZSB0aGlzIGxvZ2ljKVxuICAgIGNvbnN0IHJlbWVtYmVyTWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInJlbWVtYmVyTWVcIik7XG4gICAgcmV0dXJuIHJlbWVtYmVyTWUgPT09IFwidHJ1ZVwiO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gdHJ1ZTsgLy8gRGVmYXVsdCB0byBtYWludGFpbmluZyBzZXNzaW9uXG4gIH1cbn1cblxuLy8gU2V0IHJlbWVtYmVyIG1lIHByZWZlcmVuY2VcbmV4cG9ydCBmdW5jdGlvbiBzZXRSZW1lbWJlck1lKHJlbWVtYmVyOiBib29sZWFuKTogdm9pZCB7XG4gIHRyeSB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJyZW1lbWJlck1lXCIsIHJlbWVtYmVyLnRvU3RyaW5nKCkpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUud2FybihcIkNvdWxkIG5vdCBzYXZlIHJlbWVtYmVyIG1lIHByZWZlcmVuY2U6XCIsIGVycm9yKTtcbiAgfVxufVxuXG4vLyBFbmhhbmNlZCBhdXRoIHN0YXRlIG1vbml0b3JpbmdcbmxldCBhdXRoU3RhdGVTdGFibGUgPSBmYWxzZTtcbi8vIOKchSBVc2UgUmV0dXJuVHlwZTx0eXBlb2Ygc2V0VGltZW91dD4gaW5zdGVhZCBvZiBudW1iZXJcbmxldCBhdXRoU3RhdGVUaW1lb3V0OiBSZXR1cm5UeXBlPHR5cGVvZiBzZXRUaW1lb3V0PiB8IG51bGwgPSBudWxsO1xuXG5leHBvcnQgZnVuY3Rpb24gbW9uaXRvckF1dGhTdGFiaWxpdHkoKTogKCgpID0+IHZvaWQpIHwgdW5kZWZpbmVkIHtcbiAgaWYgKCFhdXRoKSByZXR1cm4gdW5kZWZpbmVkO1xuXG4gIC8vIFJlc2V0IHN0YWJpbGl0eSBmbGFnIG9uIGF1dGggc3RhdGUgY2hhbmdlc1xuICBjb25zdCB1bnN1YnNjcmliZSA9IGF1dGgub25BdXRoU3RhdGVDaGFuZ2VkKCgpID0+IHtcbiAgICBhdXRoU3RhdGVTdGFibGUgPSBmYWxzZTtcblxuICAgIC8vIENsZWFyIGV4aXN0aW5nIHRpbWVvdXRcbiAgICBpZiAoYXV0aFN0YXRlVGltZW91dCkge1xuICAgICAgY2xlYXJUaW1lb3V0KGF1dGhTdGF0ZVRpbWVvdXQpO1xuICAgIH1cblxuICAgIC8vIE1hcmsgYXMgc3RhYmxlIGFmdGVyIDIgc2Vjb25kcyBvZiBubyBjaGFuZ2VzXG4gICAgYXV0aFN0YXRlVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgYXV0aFN0YXRlU3RhYmxlID0gdHJ1ZTtcbiAgICAgIGNvbnNvbGUubG9nKFwiQXV0aCBzdGF0ZSBzdGFiaWxpemVkXCIpO1xuICAgIH0sIDIwMDApO1xuICB9KTtcblxuICAvLyBSZXR1cm4gY2xlYW51cCBmdW5jdGlvblxuICByZXR1cm4gKCkgPT4ge1xuICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgaWYgKGF1dGhTdGF0ZVRpbWVvdXQpIHtcbiAgICAgIGNsZWFyVGltZW91dChhdXRoU3RhdGVUaW1lb3V0KTtcbiAgICB9XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0F1dGhTdGF0ZVN0YWJsZSgpOiBib29sZWFuIHtcbiAgcmV0dXJuIGF1dGhTdGF0ZVN0YWJsZTtcbn1cbiJdLCJuYW1lcyI6WyJhdXRoIiwic2V0UGVyc2lzdGVuY2UiLCJicm93c2VyTG9jYWxQZXJzaXN0ZW5jZSIsImJyb3dzZXJTZXNzaW9uUGVyc2lzdGVuY2UiLCJpbml0aWFsaXplQXV0aFBlcnNpc3RlbmNlIiwiY29uc29sZSIsIndhcm4iLCJsb2ciLCJlcnJvciIsImZhbGxiYWNrRXJyb3IiLCJzaG91bGRNYWludGFpblNlc3Npb24iLCJyZW1lbWJlck1lIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInNldFJlbWVtYmVyTWUiLCJyZW1lbWJlciIsInNldEl0ZW0iLCJ0b1N0cmluZyIsImF1dGhTdGF0ZVN0YWJsZSIsImF1dGhTdGF0ZVRpbWVvdXQiLCJtb25pdG9yQXV0aFN0YWJpbGl0eSIsInVuZGVmaW5lZCIsInVuc3Vic2NyaWJlIiwib25BdXRoU3RhdGVDaGFuZ2VkIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsImlzQXV0aFN0YXRlU3RhYmxlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./client/src/lib/auth-persistence.ts\n"));

/***/ })

});